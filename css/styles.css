/* =========================================
   1. VARIABLES
   ========================================= */
:root {
    --sidebar-width: 250px;
    --topbar-height: 60px;
    --primary-color: #2c3e50;
    --accent-color: #3498db;
    --bg-light: #f8f9fa;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: var(--bg-light);
    overflow-x: hidden;
}

/* =========================================
   2. NAVBAR (Barra Superior)
   ========================================= */
.navbar {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: var(--topbar-height);
    background-color: #fff;
    border-bottom: 1px solid #dee2e6;
    z-index: 1050;
    padding: 0 15px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

/* =========================================
   3. SIDEBAR (Menú Lateral)
   ========================================= */
#sidebar-wrapper {
    width: var(--sidebar-width);
    height: 100vh;
    position: fixed;
    top: var(--topbar-height);
    left: 0;
    background-color: var(--primary-color);
    color: #fff;
    z-index: 1040;
    overflow-y: auto;
    border-right: 1px solid rgba(0,0,0,0.1);
    transition: transform 0.3s ease-in-out;
}

/* Estilos internos */
.sidebar-heading { padding: 1.2rem; font-weight: bold; color: white; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid rgba(255,255,255,0.1); }
.list-group-item { background: transparent; color: #bdc3c7; border: none; padding: 12px 20px; border-left: 4px solid transparent; }
.list-group-item:hover { background: rgba(255,255,255,0.05); color: #fff; border-left-color: var(--accent-color); }
.list-group-item.active { background: var(--accent-color); color: #fff; border-left-color: #fff; }
.sidebar-divider { font-size: 0.75rem; text-transform: uppercase; color: #95a5a6; padding: 20px 20px 5px; font-weight: bold; }

/* =========================================
   4. CONTENIDO (Corrección de Ancho)
   ========================================= */
#page-content-wrapper {
    width: 100%; /* Por defecto en móvil ocupa todo */
    padding-top: var(--topbar-height);
    transition: all 0.3s ease-in-out; /* Animamos margen y ancho */
    
    /* Para que el footer se quede abajo siempre */
    display: flex;
    flex-direction: column;
    min-height: 100vh; 
}

/* =========================================
   5. LÓGICA RESPONSIVA (EL ARREGLO)
   ========================================= */

/* --- EN PC (>= 768px) --- */
@media (min-width: 768px) {
    
    /* ESTADO ABIERTO (Normal): Restamos el ancho del menú */
    #sidebar-wrapper { 
        transform: translateX(0); 
    }
    #page-content-wrapper { 
        margin-left: var(--sidebar-width); 
        /* AQUÍ ESTÁ LA SOLUCIÓN: Ancho = 100% - 250px */
        width: calc(100% - var(--sidebar-width)); 
    }

    /* ESTADO CERRADO (Toggled): Ocupa todo el ancho */
    body.sb-sidenav-toggled #sidebar-wrapper {
        transform: translateX(-100%) !important;
    }
    body.sb-sidenav-toggled #page-content-wrapper {
        margin-left: 0 !important;
        width: 100% !important; /* Vuelve a ocupar todo */
    }
}

/* --- EN MÓVIL (< 768px) --- */
@media (max-width: 768px) {
    
    #sidebar-wrapper { transform: translateX(-100%); }
    #page-content-wrapper { margin-left: 0; width: 100%; }

    body.sb-sidenav-toggled #sidebar-wrapper {
        transform: translateX(0) !important;
        box-shadow: 5px 0 15px rgba(0,0,0,0.5);
    }
    
    body.sb-sidenav-toggled::before {
        content: ""; position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.5); z-index: 1030;
    }
}